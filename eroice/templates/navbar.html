<div class="container mx-auto">
  <div class="flex items-center justify-between py-6 lg:py-10">
    <a href="/" class="flex items-center">
      <span href="/" class="mr-2">
        <img src="https://i.imgur.com/dAuC3Zo.png" alt="logo" width="100" />
      </span>
    </a>
    <div class="flex items-center lg:hidden">
      <div
        class="mr-8 flex bg-purple-400 dark:bg-yellow-400 py-1 px-2 rounded text-purple-900 dark:text-yellow-900 text-sm font-semibold">
        <button class="flex space-x-1 items-center" x-data="{ darkModeText : '' }"
          x-init="darkModeText = isDarkMode ? 'Light mode' : 'Dark mode'"
          @click="themeSwitch(); darkModeText = isDarkMode ? 'Light mode' : 'Dark mode'">
          <svg x-show="isDarkMode" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
            fill="currentColor" style="display: none;">
            <path fill-rule="evenodd"
              d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
              clip-rule="evenodd"></path>
          </svg>
          <svg x-show="!isDarkMode" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
            fill="currentColor">
            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
          </svg>
          <h1 x-text="darkModeText">Dark mode</h1>
        </button>
      </div>
      <svg width="24" height="15" xmlns="http://www.w3.org/2000/svg" @click="isMobileMenuOpen = true"
        class="fill-current text-primary dark:text-gray-50">
        <g fill-rule="evenodd">
          <rect width="24" height="3" rx="1.5" />
          <rect x="8" y="6" width="16" height="3" rx="1.5" />
          <rect x="4" y="12" width="20" height="3" rx="1.5" />
        </g>
      </svg>
    </div>
    <div class="hidden lg:block">
      <ul class="flex items-center">
        <li class="group relative mr-8 mb-1">
          <a href="{% url 'write' %}"
            class="relative z-30 block px-2 font-body text-lg font-medium text-primary transition-colors hover:text-secondary dark:text-gray-50 dark:hover:text-secondary">Write</a>
        </li>
        <li>
          <div
            class="mr-8 flex bg-purple-400 dark:bg-yellow-400 py-1 px-2 rounded text-purple-900 dark:text-yellow-900 text-sm font-semibold">
            <button class="flex space-x-1 items-center" x-data="{ darkModeText : '' }"
              x-init="darkModeText = isDarkMode ? 'Light mode' : 'Dark mode'"
              @click="themeSwitch(); darkModeText = isDarkMode ? 'Light mode' : 'Dark mode'">
              <svg x-show="isDarkMode" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
                fill="currentColor" style="display: none;">
                <path fill-rule="evenodd"
                  d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                  clip-rule="evenodd"></path>
              </svg>
              <svg x-show="!isDarkMode" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
                fill="currentColor">
                <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
              </svg>
              <h1 x-text="darkModeText">Dark mode</h1>
            </button>
          </div>
        </li>
        <div class="flex justify-center">
          <div x-data="{
                 open: false,
                 toggle() {
                 if (this.open) {
                 return this.close()
                 }
                 this.$refs.button.focus()
                 this.open = true
                 },
                 close(focusAfter) {
                 if (! this.open) return
                 this.open = false
                 focusAfter && focusAfter.focus()
                 }
                 }" x-on:keydown.escape.prevent.stop="close($refs.button)"
            x-on:focusin.window="! $refs.panel.contains($event.target) && close()" x-id="['dropdown-button']"
            class="relative">
            <button x-ref="button" x-on:click="toggle()" :aria-expanded="open" :aria-controls="$id('dropdown-button')"
              type="button">
              <i class="bx bxs-user-circle cursor-pointer text-3xl text-primary dark:text-gray-50">
              </i>
            </button>
            <div x-ref="panel" x-show="open" x-transition.origin.top.left x-on:click.outside="close($refs.button)"
              :id="$id('dropdown-button')" style="display: none;"
              class="absolute right-0 mt-2 w-40 rounded-md bg-white dark:bg-slate-800 shadow-md">
              <a href="#"
                class="flex items-center gap-2 w-full first-of-type:rounded-t-md last-of-type:rounded-b-md px-4 py-2.5 text-left text-sm disabled:text-gray-500 dark:text-gray-50">
                <span>Logged in as <span class="font-semibold">{{ username }}</span></span>
              </a>
              <a href="{% url 'logout' %}"
                class="flex items-center gap-2 w-full first-of-type:rounded-t-md last-of-type:rounded-b-md px-4 py-2.5 text-left text-sm hover:bg-gray-50 dark:hover:bg-slate-700 disabled:text-gray-500">
                <span class="text-red-600">Log out</span>
              </a>
            </div>
          </div>
        </div>
      </ul>
    </div>
  </div>
</div>
<div class="pointer-events-none fixed inset-0 z-50 flex bg-black bg-opacity-80 opacity-0 transition-opacity lg:hidden"
  :class="isMobileMenuOpen ? 'opacity-100 pointer-events-auto' : ''">
  <div class="ml-auto w-2/3 bg-sky p-4 md:w-1/3">
    <i class="bx bx-x absolute top-0 right-0 mt-4 mr-4 text-4xl text-white" @click="isMobileMenuOpen = false"></i>
    <ul class="mt-8 flex flex-col">
      <li class="">
        <a href="{% url 'write' %}" class="mb-3 block px-2 font-body text-lg font-medium text-white">Write</a>
      </li>
      <li class="">
        <a href="{% url 'logout' %}" class="mb-3 block px-2 font-body text-lg font-medium text-red-600">Log out</a>
      </li>
    </ul>
  </div>
</div>